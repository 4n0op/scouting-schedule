<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FRC Scouting Schedule Generator</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>FRC Scouting Schedule Generator</h1>
    <form id="scheduleForm">
        <label for="numPeople">Number of People:</label>
        <input type="number" id="numPeople" name="numPeople" required min="12" oninput="generateNameFields()"><br><br>
        <div id="nameFields"></div>
        <label for="numMatches">Number of Matches:</label>
        <input type="number" id="numMatches" name="numMatches" required min="1"><br><br>
        <button type="button" onclick="generateSchedule()">Generate Schedule</button>
    </form>
    <br>
    <div id="scheduleOutput"></div>

    <script>
        function generateNameFields() {
            const numPeople = parseInt(document.getElementById('numPeople').value);
            const nameFieldsDiv = document.getElementById('nameFields');
            nameFieldsDiv.innerHTML = '';
            for (let i = 0; i < numPeople; i++) {
                nameFieldsDiv.innerHTML += `<label for="name${i}">Name ${i + 1}:</label><input type="text" id="name${i}" name="name${i}" required><br><br>`;
            }
        }

        function generateSchedule() {
            const numPeople = parseInt(document.getElementById('numPeople').value);
            const numMatches = parseInt(document.getElementById('numMatches').value);
            const roles = ['Red 1', 'Red 2', 'Red 3', 'Blue 1', 'Blue 2', 'Blue 3'];

            if (numPeople < 12) {
                alert("The number of people should be at least 12.");
                return;
            }

            let names = [];
            for (let i = 0; i < numPeople; i++) {
                names.push(document.getElementById(`name${i}`).value);
            }

            let schedule = [];
            for (let match = 0; match < numMatches; match++) {
                let matchSchedule = [];
                for (let role = 0; role < roles.length; role++) {
                    let person1Index = (match * roles.length * 2 + role * 2) % numPeople;
                    let person2Index = (person1Index + 1) % numPeople;
                    matchSchedule.push(`${names[person1Index]}, ${names[person2Index]}`);
                }
                schedule.push(matchSchedule);
            }

            displaySchedule(schedule, roles);
        }

        function displaySchedule(schedule, roles) {
            let output = '<table><tr><th>Match</th>';
            for (let role of roles) {
                output += `<th>${role}</th>`;
            }
            output += '</tr>';

            for (let match = 0; match < schedule.length; match++) {
                output += `<tr><td>Match ${match + 1}</td>`;
                for (let persons of schedule[match]) {
                    output += `<td>${persons}</td>`;
                }
                output += '</tr>';
            }
            output += '</table>';
            document.getElementById('scheduleOutput').innerHTML = output;
        }
    </script>
</body>
</html>
